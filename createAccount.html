<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Create Account Page</title>
</head>
	<body bgcolor="FFFF00">
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:45%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:15%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; BOTTOM:2%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:45%; RIGHT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:15%; RIGHT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; BOTTOM:2%; RIGHT:2%;"/>
	<script>
			window.addEventListener("load", function () {
  				function sendData() {
    					var XHR = new XMLHttpRequest();

    					// Bind the FormData object and the form element
    					var FD = new FormData(form);
					

    					// Define what happens on successful data submission
    					XHR.addEventListener("load", function(event) {
      						if (this.readyState == 4 && this.status == 200) {
					
							if (XHR.responseURL=='http://localhost:3000/authCreateAccount') {
								if (this.responseText == "success"){
									window.location='homePage';
								}else{
      								document.getElementById("response").innerHTML = this.responseText;
								}
							}
							
							}
    					});

    					// Define what happens in case of error
    					XHR.addEventListener("error", function(event) {
      						alert('Oops! Something went wrong.');
    					});

    					// Set up our request
    					XHR.open("POST", "authCreateAccount");

    					// The data sent is what the user provided in the form
    					XHR.send(FD);
				
  				}

  				// Access the form element...
  				var form = document.getElementById("authCreateAccount");

  				// ...and take over its submit event.
  				form.addEventListener("submit", function (event) {
    					event.preventDefault();

    					sendData();
  				});
			});
	</script>
	
	<form action="first" method="GET">
		<button id="back">Back</button>
	</form>
	<br/>
	<h2><p align="center">Create Account</p></h2>
	<br/>
	<p id="response" align="center"></p>
	<form id ="authCreateAccount"   method="POST">
		<p align="center"><span id="words">Username</span>
		<input type="text" name="username" placeholder="Username" required>
		<br/>
		<br/>
		<p align="center"><span id="words">Password</span>
		<input type="password" name="password" placeholder="Password" required>
		<br/>
		<br/>
		<p align="center"><span id="words"> Verify Password</span>
		<input type="password" name="verifyPassword" placeholder="Verify Password" required>
		<br/>
		<br/>
		<p align="center"><span id="words">Email</span>
		<input type="text" name="email" placeholder="Email" pattern="[A-Za-z0-9]+@[a-z]+.com" title="must be a valid email" required>
		<br/>
		<br/>
		<input type="submit">
		
		</p>
	</form>
	
</body>
<style>
	#back {
		border: 1px solid black;
  		width: 8%;
		background-color:orange;
		display: inline-block;
		position:absolute;
		top:3%;
		height:5%;
		left:3%;
		font-size:18px;
		font-weight:bold;
	}
	#authCreateAccount {
		position:absolute;
		width: 400px;
		right:38%;
	}
	#words{
		font-size:18px;
		font-weight:bold;
	}
	input[type="submit"]{
		position:absolute;
		height: 20%;
		right:30%;
		width:50%;
		border: 1px solid black;
		background-color: orange;
		font-weight:bold;
		font-size:18px;
	}
</style>
</html>