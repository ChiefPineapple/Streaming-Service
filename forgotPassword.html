<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Forgot Password</title>
	</head>
	<body bgcolor="FFFF00">
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:45%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:15%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; BOTTOM:2%; LEFT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:45%; RIGHT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; TOP:15%; RIGHT:2%;"/>
		<img width="8%" height="20%" src="http://www.amisvegetarian.com/wp-content/uploads/2018/09/pineapple-clipart-cute-pineapples-clipart-set-pineapple-clip-art-fun-pineapples-school-clipart.jpg" alt="Pineapple" style="position:absolute; BOTTOM:2%; RIGHT:2%;"/>
		<script>
			window.addEventListener("load", function () {
  				function sendData() {
    					var XHR = new XMLHttpRequest();

    					// Bind the FormData object and the form element
    					var FD = new FormData(form);
					

    					// Define what happens on successful data submission
    					XHR.addEventListener("load", function(event) {
      						if (this.readyState == 4 && this.status == 200) {
					
							if (XHR.responseURL=='http://localhost:3000/forgotPassword') {
      								document.getElementById("resetStatus").innerHTML = this.responseText;
								
							}
							
						}
    					});

    					// Define what happens in case of error
    					XHR.addEventListener("error", function(event) {
      						alert('Oops! Something went wrong.');
    					});

    					// Set up our request
    					XHR.open("POST", "forgotPassword");

    					// The data sent is what the user provided in the form
    					XHR.send(FD);
				
  				}
				function sendData2() {
    					var XHR = new XMLHttpRequest();

    					// Bind the FormData object and the form element
    					var FD = new FormData(form2);
					

    					// Define what happens on successful data submission
    					XHR.addEventListener("load", function(event) {
      						if (this.readyState == 4 && this.status == 200) {
					
							if (XHR.responseURL=='http://localhost:3000/changePassword') {
								document.getElementById("resetPassword").innerHTML = this.responseText;
		
							}
						}
    					});

    					// Define what happens in case of error
    					XHR.addEventListener("error", function(event) {
      						alert('Oops! Something went wrong.');
    					});
					

    					// Set up our request
    					XHR.open("POST", "changePassword");

    					// The data sent is what the user provided in the form
    					XHR.send(FD);
				
  				}
 
  				// Access the form element...
  				var form = document.getElementById("sendEmail");

  				// ...and take over its submit event.
  				form.addEventListener("submit", function (event) {
    					event.preventDefault();

    					sendData();
  				});

				var form2 = document.getElementById("resetPassword");

  				form2.addEventListener("submit", function (event) {
    					event.preventDefault();

    					sendData2();
  				});
				
			});
		
		</script>
		<div id="content">
		<form action="first" method="GET">
			<button id="back"><b>Back</b></button>
		</form>
		<h1><p align="center">Forgot Password</p></h1>
		<br />
		
		<form id="sendEmail" align="center">
			<input type="text" name="email" placeholder="Email" required>
			<br/>
			<br/>
			<button id="send-email"><b>Send Email</b></button>
		</form>
		<br/>
		
		<br />
		<br />
		<p id="resetStatus" align="center"><br /></p>
		
		<form id="resetPassword" align= "center">
			<p align="center"><b>Password Reset Code </b><input type="text" name="prCode" required></p>
			<p align="center"><b>New Password </b><input type="password" name="password" required></p>
			<p align="center"><b>Verify New Password </b><input type="password" name ="vPassword" required></p>
			<p align="center"><button id="submit"><b>Submit</button></p>
		</form>
		</div>
	</body>
	<style>
		#send-email {
			border: 1px solid black;
			align="center";
			background-color:orange;
			width: 10%;
			height:6%;
			position:absolute;
			right:45%;
		}
		#email {
			position:absolute;
			right:42%;
			width:15%;
		}
		#back {
			position:absolute;
			width:10%;
			height:8%;
			font-size:15px;
			font-weight:bold;
			right:45%;
			border: 1px solid black;
			align="center";
			background-color:orange;
			top:3%;
			right:3%;
		}
		#submit {
			border: 1px solid black;
			align="center";
			background-color:orange;
			width: 10%;
			height:8%;
			position:absolute;
			right:45%;
		}
		#back {
			display:inline-block;
			border: 1px solid black;
			align="center";
			background-color:orange;
			width: 10%;
			position:absolute;
			left:3%;	
		}
	</style>
</html>